<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gene Expression Results</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <style>
        .google-visualization-tooltip {
            white-space: pre-wrap;
        }
        .container {
            margin: 40px auto; /* Adjust margin to make it wider */
            max-width: 1200px; /* Adjust max-width to make the panel wider */
        }
    </style>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Tissue', 'Expression Level'],
                {% for tissue, expression_level in expression_data %}
                    ['{{ tissue }}', {{ expression_level }}],
                {% endfor %}
            ]);

            var options = {
                title: 'Gene Expression Levels',
                hAxis: {
                    slantedText: true,
                    slantedTextAngle: 90,
                    textStyle: {
                        fontSize: 10
                    }
                },
                vAxis: {
                    title: 'Expression Level',
                    titleTextStyle: {
                        fontSize: 12,
                        italic: false,
                        bold: true,
                        margin: 20 // Adjust margin to move the title away from the axis
                    },
                    textStyle: {
                        fontSize: 10
                    },
                    viewWindow: {
                        min: 0
                    }
                },
                legend: 'none',
                bar: { groupWidth: '75%' },
                explorer: { 
                    actions: ['dragToZoom', 'rightClickToReset'],
                    axis: 'horizontal',
                    keepInBounds: true,
                    maxZoomIn: 4.0
                },
                chartArea: {width: '90%', height: '70%'},
                height: 600,
                width: '100%'
            };

            var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
            chart.draw(data, options);
        }
    </script>
</head>
</html>